<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: commonHead(#{register.page.title})}"></head>

<body class="bg-dark text-white">
  <div class="container text-center">
    <div class="row">
      <div class="col-md-4 offset-md-4">
        <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${message}">
          <span>ユーザー名: </span><span th:text="${username}"></span><br />
          <span>パスワード: </span><span th:text="${password}"></span>
          <br />
          <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"></button>
        </div>
        <h1 th:text="#{register.page.title}"></h1>
        <!-- 登録ページ: 新規ユーザー登録用のフォーム。登録後は画面にユーザー名と生成されたパスワードが表示される -->
        <form method="post" th:action="@{/register}">
          <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden" />
          <!-- 登録フォーム（CSRF トークンを含む） -->
          <div class="form-floating mb-3">
            <input class="form-control bg-dark text-white" id="username" name="username" placeholder="" required
              type="text" />
            <label for="username" th:text="#{register.user.name}" />
          </div>
          <button class="btn btn-primary mb-3" th:text="#{register.botton.submit}" type="submit" />
        </form>
        <form method="post" style="display: inline" th:action="@{/logout}">
          <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden" />
          <!-- 登録ページからのログアウトボタン（オプション） -->
        </form>

        <div th:if="${error}">
          <p style="color: red" th:text="${error}"></p>
        </div>
      </div>
    </div>
  </div>
  <script src="/webjars/jquery/3.7.1/jquery.min.js"></script>
  <script src="/webjars/bootstrap/5.3.8/js/bootstrap.bundle.min.js"></script>
  <script src="/js/main.js"></script>
</body>

</html>
